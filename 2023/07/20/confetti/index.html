<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/blog/libs/katex/katex.min.css"> <link rel=stylesheet  href="/blog/libs/highlight/styles/github.min.css"> <link href="/blog/css/franklin.css" rel=stylesheet > <link href="/blog/css/global.css" rel=stylesheet > <link rel=icon  href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¦¦</text></svg>"> <title>Confetti</title> <nav class=flex-container > <!-- type-c start at 0 and absorb remaining space--> <div class=type-c ></div> <div class="type-b link-spacer"></div> <div class="type-a logo"><a href="https://www.jasoneveleth.com">Jason's</a> <a href="https://www.jasoneveleth.com/blog">Blog</a></div> <div class="type-b content-spacer"></div> <div class="type-a nav-link"><a href="/blog/">Posts</a></div> <div class="type-b link-spacer"></div> <div class="type-a nav-link"><a href="/blog/">Search</a></div> <div class="type-b link-spacer"></div> <div class="type-a nav-link"><a href="/blog/">Tags</a></div> <div class="type-b link-spacer"></div> <div class=type-c ></div> </nav> <main id=panel > <h1 class=post-title >Confetti</h1> <div class=franklin-content ><p> <details> <summary>Table of Contents</summary> <div class=franklin-toc ><ol><li><a href="#overview">Overview</a><li><a href="#problem">Problem</a><li><a href="#design">Design</a><li><a href="#what_i_learned">What I learned</a></ol></div> </details> </p> <h1 id=overview ><a href="#overview" class=header-anchor >Overview</a></h1> <p>This website displays an infinite stream of confetti. It calculates the movement of confetti in real-time.</p> <h1 id=problem ><a href="#problem" class=header-anchor >Problem</a></h1> <p>I took computer vision many years ago, and I wanted to refresh my knowledge of camera matrices and rendering.</p> <h1 id=design ><a href="#design" class=header-anchor >Design</a></h1> <p>I wanted physics to be the focus of the project, so the UI is spartan. </p> <p>The <code>index.js</code> holds most of the code, and <code>math.js</code> has some utility functions &#40;like matrix multiplication&#41;. There is one function I want to highlight in <code>math.js</code>, and that is <code>world2image</code>. It converts world coordinates to image coordinates. We will assume that in the world, <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi><mo separator=true >,</mo><mi>y</mi><mo separator=true >,</mo><mi>z</mi></mrow><annotation encoding="application/x-tex">x,y,z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal">x</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> are arranged as if we&#39;re looking at an <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal">x</span></span></span></span>-<span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>y</mi></mrow><annotation encoding="application/x-tex">y</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.625em;vertical-align:-0.1944em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span></span> graph, and <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>z</mi></mrow><annotation encoding="application/x-tex">z</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.4306em;"></span><span class="mord mathnormal" style="margin-right:0.04398em;">z</span></span></span></span> is coming toward us:</p> <pre><code class="julia hljs">^  y
|
|
|
*-------&gt; x
z</code></pre> <p>We are pretending we have a camera </p> <p>It is calculating how each confetti would fall in real-time, and thus, large amounts of confetti &#40;or badly optimized browsers&#41;, can really slow down a machine.</p> <p>The source is on <a href="https://github.com/jasoneveleth/confetti">github</a>.</p> <h1 id=what_i_learned ><a href="#what_i_learned" class=header-anchor >What I learned</a></h1> <script src="https://utteranc.es/client.js" repo="jasoneveleth/blog" issue-term=pathname  label=Comment  theme=github-light  crossorigin=anonymous  async> </script> <div class=page-foot > Â© Jason Eveleth 2023 Â· Powered by Franklin.jl Â· Last modified: August 01, 2023 </div> </div> </main> <script src="/blog/libs/highlight/highlight.min.js"></script> <script>hljs.highlightAll();hljs.configure({tabReplace: ' '});</script>